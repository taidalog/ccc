(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Kt(e,t){return new Array(t)}function W(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Jt(e){return e!=null&&typeof e.GetEnumerator=="function"}function zt(e){return e!=null&&typeof e.CompareTo=="function"}function Xt(e){return e!=null&&typeof e.Equals=="function"}function Zt(e){return e!=null&&typeof e.GetHashCode=="function"}function Qt(e){return e!=null&&typeof e.Dispose=="function"}function ht(e){Qt(e)&&e.Dispose()}function Ee(){return null}function ke(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class Yt{constructor(t){this.iter=t,this.current=Ee()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function z(e){return Jt(e)?e.GetEnumerator():new Yt(e[Symbol.iterator]())}function wt(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}function q(e,t){return e.toString(10).padStart(t,"0")}function en(e,t,n){return e.toString(10).padStart(t,"0").padEnd(n,"0")}function Je(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}class V{static id(t){return V.idMap.has(t)||V.idMap.set(t,++V.count),V.idMap.get(t)}}V.idMap=new WeakMap;V.count=0;function ve(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function je(e){return e*2654435761|0}function tn(e){return ve(e.toString(32))}function Le(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function nn(e){return e.getTime()}function rn(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=ee(e[r]);return Le(n)}function ee(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return je(e);case"bigint":return tn(e);case"string":return ve(e);default:{if(Zt(e))return e.GetHashCode();if(W(e))return rn(e);if(e instanceof Date)return nn(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>ee(r));return Le(n)}else return je(V.id(e))}}}function sn(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function pt(e,t){return sn(e,t,te)}function on(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!te(e[n[s]],t[r[s]]))return!1;return!0}function te(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:Xt(e)?e.Equals(t):W(e)?W(t)&&pt(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&yt(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&on(e,t)}function yt(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Je(e),r=t.getTime()+Je(t)),n===r?0:n<r?-1:1}function un(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function St(e,t){return un(e,t,he)}function cn(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=he(e[i],t[i]),o!==0)return o}return 0}function he(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:zt(e)?e.CompareTo(t):W(e)?W(t)?St(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?yt(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?cn(e,t):-1}function an(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}class X{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return ee(this.value)}Equals(t){return t==null?!1:te(this.value,t instanceof X?t.value:t)}CompareTo(t){return t==null?1:he(this.value,t instanceof X?t.value:t)}}function k(e){if(e==null)throw new Error("Option has no value");return e instanceof X?e.value:e}function ln(e){return e==null||e instanceof X?new X(e):e}function ze(e,t){return e!=null?k(e):t}function fn(e,t){return t!=null?ln(e(k(t))):void 0}function dn(e){let t=0,n="[";for(const r of e){if(t===0)n+=y(r);else if(t===100){n+="; ...";break}else n+="; "+y(r);t++}return n+"]"}function y(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return dn(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([s,o])=>s+" = "+y(o,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function mn(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=y(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>y(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class we{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return mn(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>ee(n));return t.splice(0,0,je(this.tag)),Le(t)}Equals(t){return this===t?!0:ke(this,t)&&this.tag===t.tag?pt(this.fields,t.fields):!1}CompareTo(t){return this===t?0:ke(this,t)?this.tag===t.tag?St(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function gn(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function hn(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+y(n)).join(`
  `)+" }"}function wn(e){const t=Object.values(e).map(n=>ee(n));return Le(t)}function pn(e,t){if(e===t)return!0;if(ke(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!te(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function yn(e,t){if(e===t)return 0;if(ke(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=he(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class ne{toJSON(){return gn(this)}toString(){return hn(this)}GetHashCode(){return wn(this)}Equals(t){return pn(this,t)}CompareTo(t){return yn(this,t)}}const xe="Collection was empty.";function L(e,t,n){const r=t.length|0,s=Kt(n,r);for(let o=0;o<=r-1;o++)It(s,o,e(pe(o,t)));return s}function bt(e){const t=e.length|0,n=new Array(t);for(let r=0;r<=t-1;r++)It(n,r,[r,pe(r,e)]);return n}function Sn(e,t,n,r,s){const o=ze(n,0)|0,i=ze(fn(a=>o+a,r),e.length)|0;return(a=>{e:for(;;){const f=a;if(f>=i)return-1;if(s.Equals(t,pe(f,e)))return f|0;a=f+1;continue e}})(o)|0}function Xe(e,t,n){return Sn(t,e,void 0,void 0,n)>=0}function Ze(e){return e.slice().reverse()}function bn(e,t,n){return t==null}function In(e){if(e.length===0)throw new Error("The input array was empty\\nParameter name: array");return pe(0,e)}function Cn(e){if(e.length===0)throw new Error("Not enough elements\\nParameter name: array");return e.slice(1)}function pe(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function It(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}const re=Symbol("numeric");function _n(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[re])}function En(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function kn(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[re]().multiply(t)}function vn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[re]().toFixed(t)}function Qe(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[re]().toPrecision(t)}function Ye(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[re]().toExponential(t)}function et(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[re]().toHex()}function Pn(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+q(n,2)+":"+q(r,2)}function An(e,t){return new Date(e.getTime()+(e.offset??0)).toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Pn(e.offset??0)}function Bn(e,t){return e.kind===1?e.toUTCString():e.toLocaleString()}function Tn(e,t,n){return e.offset!=null?An(e):Bn(e)}function Pe(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Ae(){return Pe(-621355968e5,1)}function E(){return Pe(Date.now(),2)}function On(e,t){const n=Pe(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Pe(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Ln(e,t){return typeof t=="number"?On(e,-t):e.getTime()-t.getTime()}function ae(e,t){return Ln(e,t)}function Mn(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function Ct(e,t,n,r=0){if(typeof e=="string"){const s=e;e=Mn(t,n??0),t=s,n=void 0}return t=t.substring(r),t.split(e,n)}const ie=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,ue=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g;function $n(e,t){return En(e,t)<0}function C(e){return{input:e,cont:Dn(e)}}function le(e,t){let n=0,r=0,s="";ue.lastIndex=0;let o=ue.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,c,a,f,S]=o;r=ue.lastIndex,s+=Et(t[n++],c,a,f,S),ue.lastIndex=r-1,o=ue.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function _t(e,t){return typeof t=="string"?e(t):t.cont(e)}function g(e){return _t(t=>console.log(t),e)}function M(e){return _t(t=>t,e)}function Et(e,t,n,r,s){let o="";if(t=t||"",s=s||"",_n(e))switch(s.toLowerCase()!=="x"&&($n(e,0)?(e=kn(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=vn(e,r);break;case"g":case"G":e=r!=null?Qe(e,r):Qe(e);break;case"e":case"E":e=r!=null?Ye(e,r):Ye(e);break;case"x":e=et(e);break;case"X":e=et(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Tn(e):e=y(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,c=t.indexOf("-")>=0,a=c||!i?" ":"0";a==="0"?(e=tt(e,n-o.length,a,c),e=o+e):e=tt(o+e,n,a,c)}return e}function kt(e,t,n,r="",s=-1){return(...o)=>{let i=r;const c=t.slice(),a=n.slice();for(const f of o){const[,,S,m,w,D]=a[0];let O=m;if(s>=0)O=s,s=-1;else if(O==="*"){if(f<0)throw new Error("Non-negative number required");s=f;continue}i+=c[0],i+=Et(f,S,O,w,D),c.splice(0,1),a.splice(0,1)}return a.length===0?(i+=c[0],e(i)):kt(e,c,a,i,s)}}function Dn(e){return t=>{ie.lastIndex=0;const n=[],r=[];let s=0,o=ie.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=ie.lastIndex,ie.lastIndex-=1,o=ie.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),kt(t,n,r))}}function vt(e){return typeof e!="string"||/^\s*$/.test(e)}function se(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function tt(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function ye(e){return e<0?Math.ceil(e):Math.floor(e)}function Pt(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return Vn(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function Vn(e){return Number(BigInt(e)/10000n)}function Hn(e){return ye(e/864e5)}function At(e){return ye(e%864e5/36e5)}function Bt(e){return ye(e%36e5/6e4)}function Tt(e){return ye(e%6e4/1e3)}function Ot(e){return ye(e%1e3)}function nt(e,t="c",n){if(["c","g","G"].indexOf(t)===-1)throw new Error("Custom formats are not supported");const r=Math.abs(Hn(e)),s=Math.abs(At(e)),o=Math.abs(Bt(e)),i=Math.abs(Tt(e)),c=Math.abs(Ot(e));return`${e<0?"-":""}${r===0&&(t==="c"||t==="g")?"":t==="c"?r+".":r+":"}${t==="g"?s:q(s,2)}:${q(o,2)}:${q(i,2)}${c===0&&(t==="c"||t==="g")?"":t==="g"?"."+q(c,3):"."+en(c,3,7)}`}class N extends ne{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+se("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,c=o,a=i.tail,f=c.tail;if(a!=null)if(f!=null){const S=k(a),m=k(f);if(te(i.head,c.head)){s=S,o=m;continue e}else return!1}else return!1;else return f==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,c=s,a=o,f=a.tail;if(f!=null){const S=k(f);if(i>18)return c|0;r=i+1,s=(c<<1)+ee(a.head)+631*i,o=S;continue e}else return c|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,c=o,a=i.tail,f=c.tail;if(a!=null)if(f!=null){const S=k(a),m=k(f),w=he(i.head,c.head)|0;if(w===0){s=S,o=m;continue e}else return w|0}else return 1;else return f!=null?-1:0}})(this,t)|0}GetEnumerator(){return jn(this)}[Symbol.iterator](){return wt(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return z(this)}}class Rn{constructor(t){this.xs=t,this.it=this.xs,this.current=Ee()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=k(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Ee()}Dispose(){}}function jn(e){return new Rn(e)}function $(){return new N(Ee(),void 0)}function Me(e,t){return new N(e,t)}function Ue(e){return e.tail==null}function Wn(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=k(i);continue e}else return s|0}})(0,e)|0}function Nn(e){if(e.tail!=null)return e.head;throw new Error(xe+"\\nParameter name: list")}function Se(e){const t=e.tail;if(t!=null)return k(t);throw new Error(xe+"\\nParameter name: list")}function Z(){return $()}function $e(e,t){return Me(e,t)}function We(e){return Ue(e)}function rt(e){return Wn(e)}function fe(e){return Nn(e)}function Be(e){return Se(e)}function F(e,t,n){let r=t,s=n;for(;!Ue(s);)r=e(r,fe(s)),s=Se(s);return r}function de(e){return F((t,n)=>Me(n,t),$(),e)}function st(e,t){F((n,r)=>{e(r)},void 0,t)}function Fn(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Me(pe(r,e),n);return n}function me(e){return Fn(e,$())}function Gn(e){let t,n;if(W(e))return me(e);if(e instanceof N)return e;{const r=$();let s=r;const o=z(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const a=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new N(a,void 0),t.tail=n,n)}}finally{ht(o)}const i=s,c=$();return i.tail=c,Se(r)}}function ot(e,t){return F((n,r)=>Me(r,n),t,de(e))}function oe(e,t){const n=$(),r=F((o,i)=>{const c=new N(e(i),void 0);return o.tail=c,c},n,t),s=$();return r.tail=s,Se(n)}function qn(e,t){let n,r;const s=$();let o=s;for(let a=0;a<=e-1;a++)o=(n=o,r=new N(t(a),void 0),n.tail=r,r);const i=o,c=$();return i.tail=c,Se(s)}function xn(e,t){return qn(e,n=>t)}function Lt(e,t){if(Ue(t))throw new Error(xe);return F(e,fe(t),Be(t))}class x extends ne{constructor(t,n,r,s,o){super(),this.Duration=t,this.Color=n,this.Background=r,this.Message=s,this.ShouldPause=o}}class U extends ne{constructor(t,n,r,s,o){super(),this.Duration=t,this.Color=n,this.Background=r,this.Message=s,this.ShouldPause=o}}class Q extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Down","Up"]}toString(){const t=this;if(t.tag===1){const n=t.fields[0];return M(le("Countup for %s%P(), color: %s%P(); background-color: %s%P(); message: %s%P(); ShouldPause: %b%P()",[nt(n.Duration),n.Color,n.Background,n.Message,n.ShouldPause]))}else{const n=t.fields[0];return M(le("Countdown for %s%P(), color: %s%P(); background-color: %s%P(); message: %s%P(); ShouldPause: %b%P()",[nt(n.Duration),n.Color,n.Background,n.Message,n.ShouldPause]))}}}function it(e){return e.tag===1,e.fields[0].Duration}function Un(e){return e.tag===1,e.fields[0].Color}function Kn(e){return e.tag===1,e.fields[0].Background}function Jn(e){return e.tag===1,e.fields[0].Message}function ut(e){return e.tag===1,e.fields[0].ShouldPause}const K=new x(0,"","","",!1),Ie=new U(0,"","","",!1);function ct(e,t){if(e.tag===1){const n=e.fields[0];return new Q(1,[t.tag===1?new U(n.Duration,n.Color,t.fields[0],n.Message,n.ShouldPause):t.tag===2?new U(n.Duration,n.Color,n.Background,t.fields[0],n.ShouldPause):t.tag===3?new U(n.Duration,n.Color,n.Background,n.Message,t.fields[0]):new U(n.Duration,t.fields[0],n.Background,n.Message,n.ShouldPause)])}else{const n=e.fields[0];return new Q(0,[t.tag===1?new x(n.Duration,n.Color,t.fields[0],n.Message,n.ShouldPause):t.tag===2?new x(n.Duration,n.Color,n.Background,t.fields[0],n.ShouldPause):t.tag===3?new x(n.Duration,n.Color,n.Background,n.Message,t.fields[0]):new x(n.Duration,t.fields[0],n.Background,n.Message,n.ShouldPause)])}}function Ne(e){return e.tag===0?F(ct,new Q(1,[new U(e.fields[0],Ie.Color,Ie.Background,Ie.Message,Ie.ShouldPause)]),e.fields[1]):F(ct,new Q(0,[new x(e.fields[0],K.Color,K.Background,K.Message,K.ShouldPause)]),e.fields[1])}class l extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}let I=class extends we{constructor(t,n){super(),this.tag=0,this.fields=[t,n]}cases(){return["State"]}};const Ke="Input was empty.",De="Position exceeded input length.",zn="Parsing failed.",Xn="Argument was invalid.";function Y(e){return t=>{const n=t.fields[0],r=t.fields[1]|0,s=n.length|0;return s===0?new l(1,[[Ke,new I(n,r)]]):r>=s?new l(1,[[De,new I(n,r)]]):n[r]===e?new l(0,[[e,new I(n,r+1)]]):new l(1,[[zn,new I(n,r)]])}}function h(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new l(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1]]]):new l(1,[[s.fields[0][0],n]])}else return new l(1,[[r.fields[0][0],n]])}}function T(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new l(0,[[r.fields[0][0],s.fields[0][1]]]):new l(1,[[s.fields[0][0],n]])}else return new l(1,[[r.fields[0][0],n]])}}function j(e,t){return n=>{const r=e(n);if(r.tag===0){const s=t(r.fields[0][1]);return s.tag===0?new l(0,[[s.fields[0][0],s.fields[0][1]]]):new l(1,[[s.fields[0][0],n]])}else return new l(1,[[r.fields[0][0],n]])}}function d(e,t){return n=>{const r=e(n);if(r.tag===1){const s=t(n);return s.tag===1?new l(1,[s.fields[0]]):new l(0,[s.fields[0]])}else return new l(0,[r.fields[0]])}}function be(e){return t=>((r,s)=>{e:for(;;){const o=r,c=e(s);if(c.tag===0){r=$e(c.fields[0][0],o),s=c.fields[0][1];continue e}else return new l(0,[[de(o),c.fields[0][1]]])}})(Z(),t)}function Zn(e,t,n){e:for(;;){const r=e,s=t,o=n;if(We(o))return new l(0,[[de(s),r]]);{const i=fe(o)(r);if(i.tag===0){e=i.fields[0][1],t=$e(i.fields[0][0],s),n=Be(o);continue e}else return new l(1,[i.fields[0]])}}}function Qn(e,t){return n=>{const r=Zn(n,Z(),xn(e,t));return r.tag===1?new l(1,[[r.fields[0][0],n]]):new l(0,[r.fields[0]])}}function P(e,t){return n=>{const r=t(n);return r.tag===1?new l(1,[r.fields[0]]):new l(0,[[e(r.fields[0][0]),r.fields[0][1]]])}}function b(e){return t=>{const n=t.fields[0],r=t.fields[1]|0,s=n.length|0,o=e.length|0;return s===0?new l(1,[[Ke,new I(n,r)]]):r>=s?new l(1,[[De,new I(n,r)]]):o===0?new l(1,[[Xn,new I(n,r)]]):n.slice(r,r+o-1+1)===e?new l(0,[[e,new I(n,r+o)]]):new l(1,[["Parsing failed.",new I(n,r)]])}}const G=e=>{const t=e.fields[0],n=e.fields[1]|0,r=t.length|0;return n>r?new l(1,[[De,new I(t,n)]]):n===r?new l(0,[[void 0,new I(t,n)]]):new l(1,[["Parsing failed.",new I(t,n)]])};function ge(e){return t=>e(t).tag===1?new l(1,[["Parsing failed.",t]]):new l(0,[[void 0,t]])}function at(e){return t=>e(t).tag===1?new l(0,[[void 0,t]]):new l(1,[["Parsing failed.",t]])}const lt=e=>{const t=e.fields[0],n=e.fields[1]|0,r=t.length|0;return r===0?new l(1,[[Ke,new I(t,n)]]):n>=r?new l(1,[[De,new I(t,n)]]):new l(0,[[t[n],new I(t,n+1)]])},Yn="Enumeration has not started. Call MoveNext.",er="Reset is not supported on this enumerator.";function tr(){throw new Error(er)}function nr(){throw new Error(Yn)}class rr{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=z(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+y(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{ht(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return wt(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function sr(e){return new rr(e)}class or{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){tr()}Dispose(){this.dispose()}}function ir(e,t,n){return new or(e,t,n)}function ur(e,t){let n,r=t;return ir(()=>{if(n!=null){const s=k(n)[0];return k(n)[1],s}else return nr()},()=>(n=e(r),n!=null?(k(n)[0],r=k(n)[1],!0):!1),()=>{})}function Mt(e){return sr(e)}function cr(e){return Mt(()=>z(e()))}function ar(e,t){return Mt(()=>ur(e,t))}function Ce(e){return W(e)?me(e):e instanceof N?e:Gn(e)}function _e(e,t){const n=~~t.charCodeAt(0)|0;return cr(()=>ar(r=>{if(r<=n)return[String.fromCharCode(r),r+1]},~~e.charCodeAt(0)))}var Fe;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(Fe||(Fe={}));function lr(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function ft(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function fr(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function dr(e,t){if(t&Fe.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function mr(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||dr(o,t),!fr(n).test(i))return lr(s,n)}return null}function $t(e,t,n,r,s){const o=mr(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[c,a]=ft(!0,r);o.radix!==10&&i>=c&&i<=a&&(i=i<<32-r>>32-r);const[f,S]=ft(n,r);if(i>=f&&i<=S)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}class Ve extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Color","Background","Message","ShouldPause"]}}class Dt extends we{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Up","Down"]}}function gr(e){return P(t=>$e(t[0],t[1]),h(e,be(e)))}const Ge=Lt(d,oe(Y,Ce(_e("0","9")))),hr=Lt(d,oe(Y,ot(Ce(_e("0","9")),ot(Ce(_e("A","F")),Ce(_e("a","f")))))),Te=P(e=>$t(M(C("%c%c"))(e[0])(e[1]),511,!1,32),h(Ge,Ge)),wr=P(e=>$t(e,511,!1,32),Ge),Vt=d(Te,wr),_=P(e=>se("",oe(t=>t,e)),gr(Y(" "))),pr=P(e=>Pt(0,e[0],e[1]),h(T(Vt,b(":")),Te)),yr=P(e=>{const t=e[0];return Pt(t[0],t[1],e[1])},h(T(h(T(Vt,Y(":")),Te),Y(":")),Te)),Ht=d(yr,pr),Rt=P(e=>{const t=se("",oe(y,e[1]));return M(C("%c%s"))(e[0])(t)},h(Y("#"),Qn(6,hr))),Sr=P(e=>new Ve(0,[e]),T(j(h(d(b("--color"),b("-c")),_),Rt),d(ge(_),G))),br=P(e=>new Ve(1,[e]),T(j(h(d(b("--background"),b("-bg")),_),Rt),d(ge(_),G))),Ir=(()=>{const e=d(b("--message"),b("-m"));let t;const n=d(d(d(d(d(b("--color"),b("-c")),b("--background")),b("-bg")),b("--pause")),b("-p")),r=h(at(h(_,n)),at(G)),s=d(ge(h(_,n)),ge(G));return t=h(be(T(lt,r)),T(lt,s)),P(o=>{let i;return new Ve(2,[(i=se("",oe(y,de($e(o[1],de(o[0]))))),i.trim())])},j(h(e,_),t))})(),Cr=P(e=>new Ve(3,[!0]),T(d(b("--pause"),b("-p")),d(ge(_),G))),jt=be(d(d(d(j(_,Sr),j(_,br)),j(_,Ir)),j(_,Cr))),_r=P(e=>new Dt(1,[e[0][1],e[1]]),T(h(h(T(b("down"),_),Ht),jt),h(be(_),G))),Er=P(e=>new Dt(0,[e[0][1],e[1]]),T(h(h(T(b("up"),_),Ht),jt),h(be(_),G))),Wt=d(_r,Er);class kr{constructor(){}}function vr(){return new kr}function Pr(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function Ar(e,t){return t.then(n=>n)}const dt=vr();function Nt(){return"wakeLock"in navigator}function Ft(){return Ar(dt,Pr(dt,()=>navigator.wakeLock.request("screen").then(e=>Promise.resolve(e))))}function qe(e){e.then(t=>t.release())}class B extends ne{constructor(t,n){super(),this.StartTime=t,this.Acc=n}}class ce extends ne{constructor(t,n){super(),this.Input=t,this.Remaining=n}}class A extends ne{constructor(t,n,r,s,o,i){super(),this.Stop=t,this.Current=n,this.IntervalId=r|0,this.Commands=s,this.WakeLock=o,this.RunningStatus=i|0}}let u=an(new A(new B(Ae(),0),new B(Ae(),0),-1,new ce(Z(),Z()),void 0,0));const Gt=new A(new B(Ae(),0),new B(Ae(),0),-1,new ce(Z(),Z()),void 0,0);function J(e){return M(le('%02d%P():%02d%P():%02d%P()<span class="decimals">.%03d%P()</span>',[At(e),Bt(e),Tt(e),Ot(e)]))}function mt(e,t,n,r){const s=ae(r,t)+n;return e.tag===1?s:e.fields[0].Duration-s}function qt(e){return L(n=>n.trim(),Ct(e,"(?=down \\d|up \\d)")).filter(n=>!vt(n))}function xt(e){return Wt(new I(e,0))}function Br(e){const t=L(xt,qt(e));return t.some(n=>n.tag===1)?new l(1,[t]):new l(0,[t])}function Oe(){if(u().RunningStatus===1){clearInterval(u().IntervalId);const e=E();u(new A(new B(u().Stop.StartTime,u().Stop.Acc+ae(e,u().Stop.StartTime)),new B(u().Current.StartTime,u().Current.Acc+ae(e,u().Current.StartTime)),u().IntervalId,u().Commands,u().WakeLock,2))}}function Ut(){let e,t,n,r,s;switch(u().RunningStatus|0){case 0:case 4:{document.getElementById("timerArea").classList.remove("finished"),document.getElementById("messageArea").classList.remove("finished");const i=Br(document.getElementById("commandInput").value);if(i.tag===0){document.getElementById("validationArea").innerHTML="";const c=me(L(m=>m.tag===1?new Q(0,[K]):Ne(m.fields[0][0]),i.fields[0]));u(new A(new B(E(),0),new B(E(),0),Gt.IntervalId,new ce(c,c),Nt()?(g(`locking at ${e=E(),y(e)}`),(()=>{try{return Ft()}catch{return}})()):(g(C("failed to lock...")),void 0),1));const a=document.getElementById("outputArea"),f=u().WakeLock;f==null?(g(C("failed to lock ....")),a.innerText=""):f.released||(g(`locked at ${t=E(),y(t)}`),a.innerText="画面起動ロック API により、タイマー動作中は画面がスリープしません。");const S=setInterval(()=>{let m,w,D;const O=u().Commands.Remaining;if(We(O)){document.getElementById("timerArea").classList.add("finished"),document.getElementById("messageArea").classList.add("finished");const v=u().WakeLock;if(v==null)g(C("doing nothing..."));else{const p=v;g(`releasing at ${D=E(),y(D)}`),qe(p)}u(new A(u().Stop,u().Current,u().IntervalId,u().Commands,void 0,4)),document.getElementById("outputArea").innerText="",clearInterval(u().IntervalId)}else{const v=Be(O),p=fe(O),He=E();if(ae(He,u().Current.StartTime)+u().Current.Acc>it(p)){u((m=new ce(u().Commands.Input,v),w=new B(He,0),new A(u().Stop,w,u().IntervalId,m,u().WakeLock,u().RunningStatus)));const Re=u().Commands.Remaining;g(C("%A"))(Re);const H=J(p.tag===1?p.fields[0].Duration:0);document.getElementById("timerArea").innerHTML=H,ut(p)&&rt(v)>0&&Oe()}else{const Re=mt(p,u().Current.StartTime,u().Current.Acc,He);document.getElementById("timerArea").innerHTML=J(Re);let H;if(p.tag===1){const R=p.fields[0];H=[R.Color,R.Background,R.Message]}else{const R=p.fields[0];H=[R.Color,R.Background,R.Message]}document.body.setAttribute("style",M(C("color: %s; background-color: %s;"))(H[0])(H[1])),document.getElementById("messageArea").innerText=H[2]}}},10)|0;u(new A(u().Stop,u().Current,S,u().Commands,u().WakeLock,u().RunningStatus))}else{const c="以下のコマンドに誤りがあります。<br>"+se("<br>",L(a=>{const f=a[1];return f.tag===0?"":M(le("%d%P() つ目: %s%P()",[a[0]+1,f.fields[0][1].fields[0]]))},(n=bt(i.fields[0]),n.filter(a=>a[1].tag!==0))));g(C("%s"))(c),document.getElementById("validationArea").innerHTML=c}break}case 2:{u(new A((r=u().Stop,new B(E(),r.Acc)),(s=u().Current,new B(E(),s.Acc)),u().IntervalId,u().Commands,u().WakeLock,1));const i=setInterval(()=>{let c,a,f;const S=u().Commands.Remaining;if(We(S)){document.getElementById("timerArea").classList.add("finished"),document.getElementById("messageArea").classList.add("finished");const m=u().WakeLock;if(m==null)g(C("doing nothing..."));else{const w=m;g(`releasing at ${f=E(),y(f)}`),qe(w)}u(new A(u().Stop,u().Current,u().IntervalId,u().Commands,void 0,4)),document.getElementById("outputArea").innerText="",clearInterval(u().IntervalId)}else{const m=Be(S),w=fe(S),D=E();if(ae(D,u().Current.StartTime)+u().Current.Acc>it(w)){u((c=new ce(u().Commands.Input,m),a=new B(D,0),new A(u().Stop,a,u().IntervalId,c,u().WakeLock,u().RunningStatus)));const O=u().Commands.Remaining;g(C("%A"))(O);const v=J(w.tag===1?w.fields[0].Duration:0);document.getElementById("timerArea").innerHTML=v,ut(w)&&rt(m)>0&&Oe()}else{const O=mt(w,u().Current.StartTime,u().Current.Acc,D);document.getElementById("timerArea").innerHTML=J(O);let v;if(w.tag===1){const p=w.fields[0];v=[p.Color,p.Background,p.Message]}else{const p=w.fields[0];v=[p.Color,p.Background,p.Message]}document.body.setAttribute("style",M(C("color: %s; background-color: %s;"))(v[0])(v[1])),document.getElementById("messageArea").innerText=v[2]}}},10)|0;u(new A(u().Stop,u().Current,i,u().Commands,u().WakeLock,u().RunningStatus));break}}}function gt(e){let t;switch(u().RunningStatus|0){case 1:{Oe();break}case 2:case 4:{document.getElementById("timerArea").classList.remove("finished"),document.getElementById("messageArea").classList.remove("finished"),document.getElementById("timerArea").innerText="",document.getElementById("messageArea").innerText="",document.body.removeAttribute("style");const r=u().WakeLock;if(r==null)g(C("doing nothing..."));else{const s=r;g(`releasing at ${t=E(),y(t)}`),qe(s)}u(Gt),document.getElementById("outputArea").innerText="";break}}}document.addEventListener("visibilitychange",e=>{let t,n;switch(u().RunningStatus|0){case 1:case 2:{if(Nt()){u((t=(()=>{let i;try{return g(`locking at ${i=E(),y(i)}`),Ft()}catch{return}})(),new A(u().Stop,u().Current,u().IntervalId,u().Commands,t,u().RunningStatus)));const s=document.getElementById("outputArea"),o=u().WakeLock;o==null?(g(C("failed to lock ....")),s.innerText=""):o.released||(g(`locked at ${n=E(),y(n)}`),s.innerText="画面起動ロック API により、タイマー動作中は画面がスリープしません。")}break}}});function Tr(e){return Ze(Cn(Ze(e)))}function Or(e){if(!(!bn(te,e)&&e.length===0))return Tr(e)}function Lr(e){let t,n;if(document.activeElement.id==="commandInput")e.key==="Escape"&&document.getElementById("commandInput").blur();else{const r=document.getElementById("helpWindow"),s=Xe("active",(t=r.classList,Array.from(t)),{Equals:(a,f)=>a===f,GetHashCode:ve}),o=document.getElementById("informationPolicyWindow"),i=Xe("active",(n=o.classList,Array.from(n)),{Equals:(a,f)=>a===f,GetHashCode:ve});switch(e.key){case"Escape":{s&&r.classList.remove("active"),i&&o.classList.remove("active"),!s&&!i&&Oe();break}case"Enter":{Ut();break}case"Delete":{gt();break}case"Backspace":{e.altKey&&gt();break}case"?":{s||r.classList.add("active");break}case"\\":{document.getElementById("commandInput").focus(),e.preventDefault();break}}}}window.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("commandInput");t.oninput=n=>{let r;t.value===""&&(document.getElementById("validationArea").innerHTML="",document.body.setAttribute("style",'color: ""; background-color: "";'),document.getElementById("messageArea").innerText="",document.getElementById("timerArea").innerHTML="");const s=L(xt,qt(t.value));if(s.every(o=>o.tag!==1)){document.getElementById("validationArea").innerHTML="";const o=In(s);if(o.tag!==1){const i=Ne(o.fields[0][0]);document.body.setAttribute("style",`color: ${Un(i)}; background-color: ${Kn(i)};`),document.getElementById("messageArea").innerText=Jn(i),i.tag===1?document.getElementById("timerArea").innerHTML=J(0):document.getElementById("timerArea").innerHTML=J(i.fields[0].Duration)}}else if(s.length>1){const o=Or(s);if(o!=null){const i="以下のコマンドに誤りがあります。<br>"+se("<br>",L(c=>{const a=c[1];return a.tag===0?"":M(le("%d%P() つ目: %s%P()",[c[0]+1,a.fields[0][1].fields[0]]))},(r=bt(o),r.filter(c=>c[1].tag!==0))));g(C("%s"))(i),document.getElementById("validationArea").innerHTML=i}}},document.getElementById("inputArea").onsubmit=n=>{let r,s;n.preventDefault(),t.blur();const o=L(Wt,L(c=>new I(c,0),(r=L(c=>c.trim(),Ct(t.value,"(?=down \\d|up \\d)")),r.filter(c=>!vt(c)))));o.some(c=>c.tag===1)&&g(C("Input was invalid."));const i=oe(y,me(L(c=>c.tag===1?new Q(0,[K]):Ne(c.fields[0][0]),o)));st((s=g(C("%s")),c=>{s(c)}),i),Ut()},st(n=>{document.getElementById(n).onclick=r=>{document.getElementById("helpWindow").classList.toggle("active")}},me(["helpButton","helpClose"])),document.getElementById("informationPolicyLink").onclick=n=>{n.preventDefault(),document.getElementById("informationPolicyWindow").classList.add("active")},document.getElementById("informationPolicyClose").onclick=n=>{document.getElementById("informationPolicyWindow").classList.remove("active")},document.onkeydown=n=>{Lr(n)}});
